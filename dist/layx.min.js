!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.layx=e():t.layx=e()}(window,function(){return(n={},r.m=i=[function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(Object.defineProperty(r,"instance",{get:function(){var t=top,e="_stateStore_";return t[e]||(t[e]=new r),t[e]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex++},enumerable:!0,configurable:!0}),r);function r(){this.prefix="layx-",this.components={},this._zIndex=1e7}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(10),o=i(3);function a(t){return n.isStringAndNotEmptyOrNull(t)?t:r.assertString(t)}e.stringCast=a,e.stringOrUndefinedCast=function(t){return void 0===t?t:a(t)},e.numberOrUndefinedCast=function(t){return void 0===t?t:"number"==typeof t?t:/^(([1-9][0-9]*(\.\d{1,2})?)|(0\.\d{1,2}))$/.test(t)?Number(t):r.assertNumber(t)},e.positionCast=function(t,e,i){if(!t)return[(innerWidth-e)/2,(innerHeight-i)/2];if(o.isOffsetArray(t))return[t[0],t[1]];if(o.isPositionType(t)){var n=[0,0];switch(t){case"left-top":break;case"left-center":n[0]=0,n[1]=(innerHeight-i)/2;break;case"left-bottom":n[0]=0,n[1]=innerHeight-i;break;case"top-center":n[0]=(innerWidth-e)/2,n[1]=0;break;case"center":n[0]=(innerWidth-e)/2,n[1]=(innerHeight-i)/2;break;case"bottom-center":n[0]=(innerWidth-e)/2,n[1]=innerHeight-i;break;case"right-top":n[0]=innerWidth-e,n[1]=0;break;case"right-center":n[0]=innerWidth-e,n[1]=(innerHeight-i)/2;break;case"right-bottom":n[0]=innerWidth-e,n[1]=innerHeight-i}return n}return r.assertNever(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomNumber=function(t,e){var i=Math.random()*(e-t+1)+t;return parseInt(i.toString(),10)},e.handlerMaxAndMinValue=function(t,e,i,n){var r=void 0;return("all"===t||"min"===t)&&n&&e&&(r=Math.max(n,e)),("all"===t||"max"===t)&&i&&e&&(r=Math.min(i,e)),r},e.compareValue=function(t,e){return!!(t&&e&&e<t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAnimateType=function(t){switch(t){case"zoom":return!0;default:return!1}},e.isPresentMode=function(t){switch(t){case"embed":case"float":return!0;default:return!1}},e.isPositionType=function(t){switch(t){case"left-top":case"left-center":case"left-bottom":case"top-center":case"bottom-center":case"center":case"right-top":case"right-center":case"right-bottom":return!0;default:return!1}},e.isOffsetArray=function(t){return void 0!==t.length&&2<=t.length&&t.constructor===Array&&"number"==typeof t[0]&&"number"==typeof t[1]}},function(t,e,i){"use strict";function r(t,n,r){void 0===r&&(r="layx-");for(var e=[],i=3;i<arguments.length;i++)e[i-3]=arguments[i];if(!t)return null;var o=t.className.split(/\s+/g);return e.forEach(function(t){if(t){var e="";e=0===t.indexOf("!")?t.substr(1):r+t;var i=o.indexOf(e);n(o,i,e)}}),t.className=o.join(" ").trim(),t}Object.defineProperty(e,"__esModule",{value:!0}),e.removeElement=function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},e.createFragment=function(){return document.createDocumentFragment()},e.createElement=function(t){return document.createElement(t)},e.createElementNS=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},e.addStyles=function(t,e){if(!t)return null;for(var i in e)e[i]&&(t.style[i]=e[i]);return t},e.updateClasses=r,e.addClasses=function(t,e){void 0===e&&(e="layx-");for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return t?r.apply(void 0,[t,function(t,e,i){~e||t.push(i)},e].concat(i)):null},e.removeClasses=function(t,e){void 0===e&&(e="layx-");for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return t?r.apply(void 0,[t,function(t,e){~e&&t.splice(e,1)},e].concat(i)):null},e.hasClass=function(t,e,i){if(void 0===e&&(e="layx-"),!t)return!1;var n=t.className.split(/\s+/g),r="";return r=0===i.indexOf("!")?i.substr(1):e+i,!!~n.indexOf(r)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(6);function o(t){}i(11),e.default=(o.v="4.0.0",o.stateStore=n.default.instance,o.test=function(){var t=new r.default;t.width=800,t.height=600,t.position="center",t.border="1px solid #3baced",t.shadow="rgba(0, 0, 0, 0.3) 1px 1px 24px",t.borderRadius=4,t.animate="zoom";var e=t.createView();return document.body.appendChild(e),e},o)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(7),s=i(4),u=i(1),d=i(3),h=i(0),f=i(2),c=(o=a.default,r(l,o),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},set:function(t){var e=u.numberOrUndefinedCast(t),i=f.handlerMaxAndMinValue("all",e,this.maxWidth,this.minWidth);i&&(e=i),this._width=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},set:function(t){var e=u.numberOrUndefinedCast(t),i=f.handlerMaxAndMinValue("all",e,this.maxHeight,this.minHeight);i&&(e=i),this._height=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){var e=u.numberOrUndefinedCast(t),i=f.handlerMaxAndMinValue("max",this.width,e);if(i&&(this._width=i),f.compareValue(this.minWidth,e))throw new Error("The max width can't be letter to min width.");this._maxWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(t){var e=u.numberOrUndefinedCast(t),i=f.handlerMaxAndMinValue("max",this.height,e);if(i&&(this._height=i),f.compareValue(this.minHeight,e))throw new Error("The max height can't be letter to min height.");this._maxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"minWidth",{get:function(){return this._minWidth},set:function(t){var e=u.numberOrUndefinedCast(t),i=f.handlerMaxAndMinValue("min",this.width,e);if(i&&(this._width=i),f.compareValue(e,this.maxWidth))throw new Error("The min width can't be greater to max width.");this._minWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"minHeight",{get:function(){return this._minHeight},set:function(t){var e=u.numberOrUndefinedCast(t),i=f.handlerMaxAndMinValue("min",this.height,e);if(i&&(this._height=i),f.compareValue(e,this.maxHeight))throw new Error("The min height can't be greater to max height.");this._minHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"position",{get:function(){return this._position},set:function(t){if(t&&!d.isOffsetArray(t)&&!d.isPositionType(t)||(this._position=t),this.width&&this.height){var e=u.positionCast(this._position,this.width,this.height),i=e[0],n=e[1];this.left||(this.left=i),this.top||(this.top=n)}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"left",{get:function(){return this._left},set:function(t){this._left=u.numberOrUndefinedCast(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"top",{get:function(){return this._top},set:function(t){this._top=u.numberOrUndefinedCast(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"background",{get:function(){return this._background},set:function(t){this._background=!1===t?void 0:u.stringOrUndefinedCast(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"shadow",{get:function(){return this._shadow},set:function(t){this._shadow=!1===t?void 0:u.stringOrUndefinedCast(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"border",{get:function(){return this._border},set:function(t){this._border=!1===t?void 0:u.stringOrUndefinedCast(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(t){this._borderRadius=u.numberOrUndefinedCast(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"animate",{get:function(){return this._animate},set:function(t){!1!==t&&void 0!==t||(this._animate="none"),d.isAnimateType(t)&&(this._animate=t),"none"!==this._animate&&(this.animatable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"mode",{get:function(){return this._mode},set:function(t){void 0===t&&(this._mode="float"),d.isPresentMode(t)&&(this._mode=t)},enumerable:!0,configurable:!0}),l.prototype.createView=function(t){var e=h.default.instance,i=s.createElement("div");return i.setAttribute("data-id",this.uniqueId),i.setAttribute("data-type",this.type),s.addClasses(i,e.prefix,"block",this.animatable?"animate":void 0,this.animatable?"animate-"+this.animate+"-to-in":void 0,"mode-"+this.mode),s.addStyles(i,{width:this.width?this.width+"px":void 0,height:this.height?this.height+"px":void 0,maxWidth:this.maxWidth?this.maxWidth+"px":void 0,maxHeight:this.maxHeight?this.maxHeight+"px":void 0,minWidth:this.maxHeight?this.minWidth+"px":void 0,minHeight:this.minHeight?this.minHeight+"px":void 0,left:"float"===this.mode&&this.left?this.left+"px":void 0,top:"float"===this.mode&&this.top?this.top+"px":void 0,zIndex:"float"===this.mode?""+e.zIndex:void 0,background:this.background,border:this.border,borderRadius:this.borderRadius?this.borderRadius+"px":void 0,webkitBorderRadius:this.borderRadius?this.borderRadius+"px":void 0,boxShadow:this.shadow,webkitBoxShadow:this.shadow}),this.registerEvent(i),t&&t(i),i},l.prototype.updateZIndex=function(){var t=h.default.instance;s.addStyles(this.element,{zIndex:"float"===this.mode?""+t.zIndex:void 0})},l.prototype.destroy=function(){if(this.animatable){var t=this.element;if(!t)return;var e=h.default.instance;s.addClasses(t,e.prefix,"animate-"+this.animate+"-to-out")}else this.dispose()},l.prototype.updateCoordinate=function(t){var e=this.element;if(e){if(f.compareValue(t.minWidth,t.maxWidth))throw new Error("The max width can't be letter to min width.");if(f.compareValue(t.minHeight,t.maxHeight))throw new Error("The max height can't be letter to min height.");t.width=f.handlerMaxAndMinValue("all",t.width,t.maxWidth,t.minWidth),t.height=f.handlerMaxAndMinValue("all",t.height,t.maxHeight,t.minHeight),s.addStyles(e,{width:t.width?t.width+"px":void 0,height:t.height?t.height+"px":void 0,maxWidth:t.maxWidth?t.maxWidth+"px":void 0,maxHeight:t.maxHeight?t.maxHeight+"px":void 0,minWidth:t.maxHeight?t.minWidth+"px":void 0,minHeight:t.minHeight?t.minHeight+"px":void 0,left:"float"===this.mode&&t.left?t.left+"px":void 0,top:"float"===this.mode&&t.top?t.top+"px":void 0}),t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.maxWidth&&(this.maxWidth=t.maxWidth),t.maxHeight&&(this.maxHeight=t.maxHeight),t.minWidth&&(this.minWidth=t.minWidth),t.minHeight&&(this.minHeight=t.minHeight),t.left&&(this.left=t.left),t.top&&(this.top=t.top)}},l.prototype.updatePosition=function(t){var e=this.element;if(e&&this.width&&this.height){var i=u.positionCast(t,this.width,this.height),n=i[0],r=i[1];s.addStyles(e,{left:"float"===this.mode?n+"px":void 0,top:"float"===this.mode?r+"px":void 0}),this.left=n,this.top=r}},l.prototype.dispose=function(){var t=h.default.instance;s.removeElement(this.element),delete t.components[this.uniqueId]},l.prototype.registerEvent=function(n){var r=this;if(n){var o=h.default.instance;n.addEventListener("animationstart",function(t){}),n.addEventListener("animationend",function(t){var e="animate-"+r.animate+"-to-in",i="animate-"+r.animate+"-to-out";r.animatable&&(s.hasClass(n,o.prefix,e)&&s.removeClasses(n,o.prefix,e),s.hasClass(n,o.prefix,i)&&(s.removeClasses(n,o.prefix,i),r.dispose()))})}},l);function l(t){void 0===t&&(t="default");var e=o.call(this)||this;return e.type=t,e._position="center",e._background=!1,e._shadow=!1,e._border=!1,e._animate="none",e._mode="float",e.animatable=!1,e}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),a=i(1),s=i(4),n=i(0),r=(Object.defineProperty(u.prototype,"uniqueId",{get:function(){var t=n.default.instance.components;return t.hasOwnProperty(this._uniqueId)||(t[this._uniqueId]=this),this._uniqueId},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"element",{get:function(){return document.querySelector("[data-id='"+this.uniqueId+"']")},enumerable:!0,configurable:!0}),u.prototype.addComponent=function(t,e){t=a.stringCast(t),this.components[t]||(this.components[t]=e)},u.prototype.getComponent=function(t,e){if(void 0===e&&(e=this),-1<(t=o.removeInvalidCharacter(a.stringCast(t))).indexOf("/")){var i=t.split("/"),n=e.getComponent(i[0]);if(null===n)return null;for(var r=0;r<i.length;r++){if(!(r+1<i.length))return n;n=n.getComponent(i[r+1],n)}return n}return e.components[t]?e.components[t]:null},u.prototype.removeComponent=function(t){if(-1<(t=o.removeInvalidCharacter(a.stringCast(t))).indexOf("/")){var e=t.lastIndexOf("/"),i=t.substr(0,e),n=this.getComponent(i);n&&n.removeComponent(t.substr(e+1))}else{var r=this.components[t];r&&(s.removeElement(r.element),delete this.components[t])}},u);function u(){this._uniqueId=o.generateUniqueId(),this.components={}}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),n=i(1);e.generateUniqueId=function(t){void 0===t&&(t=5);for(var e=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i="#",n=0;n<t;n++)i+=e[r.randomNumber(0,e.length-1)];return i},e.removeInvalidCharacter=function(t){return n.stringCast(t).replace(/[\r\n\t\s]/g,"")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStringAndNotEmptyOrNull=function(t){return t&&"string"==typeof t&&0<t.trim().length}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertString=function(t){throw new Error("Not an empty string.")},e.assertNumber=function(t){throw new Error("Not a valid number.")},e.assertNever=function(t){throw new Error("Unexpected object: "+t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(12),i(13),i(14)},function(t,e,i){},function(t,e,i){},function(t,e,i){}],r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)).default;function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n});