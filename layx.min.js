"use strict";!function(n,t,i){var o={id:"layx",icon:"",title:"",bgColor:"#fff",borderColor:"#3baced",opacity:1,type:"html",url:"",content:"",width:800,height:600,loaddingText:"内容加载中...",position:"center",useFrameTitle:!1,minWidth:150,minHeight:150,shadable:!1,alwaysOnTop:!1,pinable:!1,minimizable:!0,maximizable:!0,closable:!0,resizable:!0,autoDestroy:!1,resizeLimit:{t:!0,r:!0,b:!0,l:!0,lt:!0,rt:!0,lb:!0,rb:!0},movable:!0,moveLimit:{vertical:!1,horizontal:!1,leftOut:!0,rightOut:!0,topOut:!0,bottomOut:!0},statusBar:!1,focusable:!0,allowTitleDblclickToRestore:!0,intercept:{load:{before:function(){},after:function(){}},min:{before:function(){},after:function(){}},max:{before:function(){},after:function(){}},restore:{before:function(){},after:function(){}},destroy:{before:function(){},after:function(){}},pin:{before:function(){},after:function(){}},move:{before:function(){},moveing:function(){},after:function(){}},resize:{before:function(){},resizing:function(){},after:function(){}}}},s=[{label:"确认",classList:"layx-button-confirm",callback:function(){}},{label:"取消",classList:"layx-button-cancel",callback:function(n,t){r.triggerMethod("destroy",n,t)}}];(function(n){var i,r,t;t=function(n){return Object.prototype.toString.call(n)==="[object Object]"};r=function u(n,i){for(var r in n)if(n.hasOwnProperty(r))if(t(n[r])&&t(i[r])&&u(n[r],i[r]),i.hasOwnProperty(r))continue;else i[r]=n[r]};i=function(){var n=arguments,u={},i;if(!n.length)return{};for(i=n.length-1;i>=0;i--)t(n[i])&&r(n[i],u);return n[0]=u,u};n.layxDeepClone=i})(t);var u={isArray:function(n){return Object.prototype.toString.call(n)=="[object Array]"},isFunction:function(n){return n&&Object.prototype.toString.call(n)==="[object Function]"},getElementById:function(n){return document.getElementById(n)},querySelector:function(n,t){return(t&&t.nodeType==1?t:document).querySelector(n)},InsertAfter:function(n,t){(t&&t.nodeType==1?t:document.body).lastElementChild.insertAdjacentHTML("afterend",n)},getClientArea:function(){return{width:window.innerWidth,height:window.innerHeight}},compilePositionParams:function(n,t,i){var f=this,u=f.getClientArea(),r={top:0,left:0};if(f.isArray(i)&&i.length===2)r.top=i[0],r.left=i[1];else{i=["center","lt","rt","lb","rb"].indexOf(i.toString())>-1?i.toString():"center";switch(i){case"center":r.top=Math.floor(Math.floor(u.height-t)/2);r.left=Math.floor(Math.floor(u.width-n)/2);break;case"lt":r.top=0;r.left=0;break;case"rt":r.top=0;r.left=Math.floor(u.width-n);break;case"lb":r.top=Math.floor(u.height-t);r.left=0;break;case"rb":r.top=Math.floor(u.height-t);r.left=Math.floor(u.width-n)}}return typeof r.top!="number"&&(r.top=Math.floor(Math.floor(u.height-t)/2)),typeof r.left!="number"&&(r.left=Math.floor(Math.floor(u.width-n)/2)),r},createIframe:function(n,t,i){var u=this,r=document.createElement("iframe");return t=t||"about:blank",r.setAttribute("id",n),r.classList.add("layx-iframe"),r.setAttribute("allowtransparency",!0),r.setAttribute("frameborder",0),r.setAttribute("scrolling","auto"),u.isFunction(i)&&(r.attachEvent?r.attachEvent("onreadystatechange",function(){(r.readyState==="complete"||r.readyState=="loaded")&&(r.detachEvent("onreadystatechange",arguments.callee),i())}):r.addEventListener("load",function(){this.removeEventListener("load",arguments.call,!1);i()},!1)),r.setAttribute("src",t),r},destroyIframe:function(n){n.src="about:blank";try{n.contentWindow.document.write("");n.contentWindow.document.clear()}catch(t){}n.parentNode.removeChild(n)},embedLayxCss:function(n){var r=this,t=u.getElementById("layx-css"),i;return t||(t=document.createElement("link"),t.setAttribute("id","layx-css"),t.setAttribute("rel","stylesheet"),t.setAttribute("charset","utf-8"),t.setAttribute("type","text/css"),t.href=n,i=u.querySelector("head"),i.appendChild(t)),t},cssReady:function(n,t){function o(){try{return t&&t[i]&&t[i][f]&&t[i][f][0]}catch(n){return console.log("load layx.css fail."),!1}}var r=document,u=r.createStyleSheet,f=u?"rules":"cssRules",i=u?"styleSheet":"sheet",e=r.getElementsByTagName("link");t||(t=e[e.length-1]),function s(){o()&&setTimeout(n,0)||setTimeout(s,100)}()},loadCss:function(n){var t=this,i=t.embedLayxCss("layx.css");t.cssReady(n,i)},getMousePosition:function(n){n=n||window.event;var t=document.documentElement.scrollLeft||document.body.scrollLeft,i=document.documentElement.scrollTop||document.body.scrollTop,r=n.pageX||n.clientX+t,u=n.pageY||n.clientY+i;return{x:r,y:u}},getNodeByClassName:function(n,t){var r=this,i;return n===document.body?null:(i=n.classList,i.contains(t)?n:r.getNodeByClassName(n.parentNode,t))}},e=function(n,t){var i=function(i){var a,f;if(i=i||window.event,a=i.button||i.which,a==1&&i.shiftKey==!1){var o=u.getMousePosition(i),c=o.x,l=o.y,v=c-n.startX,y=l-n.startY,h=n.windowStartTop+y,s=n.windowStartLeft+v;(v!==0||y!==0)&&(e.isMove=!0,f=r.windows[n.windowId],e.isTriggerMoveBefore===!1&&(e.isTriggerMoveBefore=!0,f&&f.config&&f.config.intercept.move&&u.isFunction(f.config.intercept.move.before)&&f.config.intercept.move.before(f.windowDom,f,c,l)),f.status==="max"&&(r.triggerMethod("restore",n.windowId,f,i),o.x<n.defaultAreaInfo.width/2?s=0:o.x>n.defaultAreaInfo.width/2&&o.x<n.clientArea.width-n.defaultAreaInfo.width?s=o.x-n.defaultAreaInfo.width/2:n.clientArea.width-o.x<n.defaultAreaInfo.width/2?s=n.clientArea.width-n.defaultAreaInfo.width:n.clientArea.width-o.x>n.defaultAreaInfo.width/2&&o.x>=n.clientArea.width-n.defaultAreaInfo.width&&(s=o.x-n.defaultAreaInfo.width/2),n.startX=o.x-s),t.horizontal===!0&&(s=n.windowStartLeft),t.vertical===!0&&(h=n.windowStartTop),t.leftOut===!1&&(s=Math.max(s,0)),t.rightOut===!1&&(s=Math.min(s,n.clientArea.width-n.windowStartWidth)),t.bottomOut===!1&&(h=Math.min(h,n.clientArea.height-n.windowStartHeight)),h=Math.max(h,0),h=Math.min(n.clientArea.height-15,h),n.windowDom.style.top=h+"px",n.windowDom.style.left=s+"px",f&&f.config&&f.config.intercept.move&&u.isFunction(f.config.intercept.move.moveing)&&f.config.intercept.move.moveing(f.windowDom,f,c,l))}},f=function(t){if(t=t||window.event,document.onmouseup=null,document.onmousemove=null,e.isMove===!0){e.isMove=!1;e.isTriggerMoveBefore=!1;var i=r.windows[n.windowId];n.windowDom.offsetTop===0&&i.config.maximizable===!0&&r.triggerMethod("max",n.windowId,i,t);r.windows[n.windowId].status!=="max"&&(i.defaultAreaInfo.top=n.windowDom.offsetTop,i.defaultAreaInfo.left=n.windowDom.offsetLeft);i&&i.config&&i.config.intercept.move&&u.isFunction(i.config.intercept.move.after)&&i.config.intercept.move.after(i.windowDom,i)}n.layxFixed.removeAttribute("data-enable")},o=function(t){t=t||window.event;var e=u.getNodeByClassName(n,"layx-window"),s=u.querySelector(".layx-fixed",e),l=u.getClientArea(),h=e.id.substr(5),o=r.windows[h],c=u.getMousePosition(t);return o.status!=="min"&&(n.windowDom=e,n.windowId=h,n.layxFixed=s,n.windowStartLeft=e.offsetLeft,n.windowStartTop=e.offsetTop,n.windowStartWidth=e.offsetWidth,n.windowStartHeight=e.offsetHeight,n.defaultAreaInfo=o.defaultAreaInfo,n.startX=c.x,n.startY=c.y,n.clientArea=l,r.setZindex(e,o),s.setAttribute("data-enable","1"),document.onmouseup=f,document.onmousemove=i),!1};e.isTriggerMoveBefore=!1;e.isMove=!1;n.onmousedown=o},f=function(n,t,i,e,o,s,h){var c=function(c){var k,l;if(c=c||window.event,k=c.button||c.which,k==1&&c.shiftKey==!1){var d=u.getMousePosition(c),g=d.x,nt=d.y,w=g-n.startX,b=nt-n.startY,a=n.windowStartTop+b,v=n.windowStartLeft+w,y=e?n.windowStartHeight-b:n.windowStartHeight+b,p=o?n.windowStartWidth-w:n.windowStartWidth+w;(w!==0||b!==0)&&(f.isResize=!0,l=r.windows[n.windowId],f.isTriggerResizeBefore===!1&&(f.isTriggerResizeBefore=!0,l&&l.config&&l.config.intercept.resize&&u.isFunction(l.config.intercept.resize.before)&&l.config.intercept.resize.before(l.windowDom,l)),p=Math.max(p,t),o?(v=Math.min(v,n.windowStartLeft+n.windowStartWidth-t),v=Math.max(0,v),p=Math.min(p,n.windowStartLeft+n.windowStartWidth)):(v=Math.min(v,n.windowStartLeft),v=Math.max(n.windowStartLeft,v),p=Math.min(p,n.clientArea.width-n.windowStartLeft)),y=Math.max(y,i),e?(a=Math.min(a,n.windowStartTop+n.windowStartHeight-i),a=Math.max(0,a),y=Math.min(y,n.windowStartTop+n.windowStartHeight)):(a=Math.min(a,n.windowStartTop),a=Math.max(n.windowStartTop,a),y=Math.min(y,n.clientArea.height-n.windowStartTop)),h&&(n.windowDom.style.width=p+"px",n.windowDom.style.left=v+"px"),s&&(n.windowDom.style.top=a+"px",n.windowDom.style.height=y+"px"),h===!1&&s===!1&&(n.windowDom.style.width=p+"px",n.windowDom.style.left=v+"px",n.windowDom.style.top=a+"px",n.windowDom.style.height=y+"px"),l&&l.config&&l.config.intercept.resize&&u.isFunction(l.config.intercept.resize.resizing)&&l.config.intercept.resize.resizing(l.windowDom,l))}},l=function(t){if(t=t||window.event,document.onmouseup=null,document.onmousemove=null,f.isResize===!0){f.isResize=!1;f.isTriggerResizeBefore=!1;var i=r.windows[n.windowId];i.defaultAreaInfo.top=n.windowDom.offsetTop;i.defaultAreaInfo.left=n.windowDom.offsetLeft;i.defaultAreaInfo.width=n.windowDom.offsetWidth;i.defaultAreaInfo.height=n.windowDom.offsetHeight;i&&i.config&&i.config.intercept.resize&&u.isFunction(i.config.intercept.resize.after)&&i.config.intercept.resize.after(i.windowDom,i)}n.layxFixed.removeAttribute("data-enable")},a=function(t){t=t||window.event;var i=u.getNodeByClassName(n,"layx-window"),e=u.querySelector(".layx-fixed",i),h=u.getClientArea(),o=i.id.substr(5),f=r.windows[o],s=u.getMousePosition(t);return f.status!=="min"&&(n.windowDom=i,n.windowId=o,n.layxFixed=e,n.windowStartLeft=i.offsetLeft,n.windowStartTop=i.offsetTop,n.windowStartWidth=i.offsetWidth,n.windowStartHeight=i.offsetHeight,n.defaultAreaInfo=f.defaultAreaInfo,n.startX=s.x,n.startY=s.y,n.clientArea=h,r.setZindex(i,f),e.setAttribute("data-enable","1"),document.onmouseup=l,document.onmousemove=c),!1};f.isTriggerResizeBefore=!1;f.isResize=!1;n.onmousedown=a},r={v:"1.0.0",zIndex:1e7,windows:{},pinZindex:2e7,create:function(s){var h=layxDeepClone({},o,s||{}),c,p,a,yt,l,tt,k,y,w,it,rt,ut,d,g,ft,pt,et,ot,st,ht,ct,lt,at,vt;if(r.windows.hasOwnProperty(h.id))return r.ExistShow(h.id),r.windows[h.id];if(h.url&&(h.type="iframe"),h.alwaysOnTop===!0&&["alert","confirm","prompt","msg","error","loading"].indexOf(h.type)<0&&h.pinable!==!1&&(h.pinable=!0),c={},c.id=h.id,c.title=h.title,c.type=h.type,c.config=h,c.status="normal",c.alwaysOnTop=h.alwaysOnTop,c.createDate=new Date,c.parentWindow=t.parent,p=u.getClientArea(),a=u.compilePositionParams(h.width,h.height,h.position),h.width>p.width&&(a.left=0),h.height>p.height&&(a.top=0),h.width=Math.min(h.width,p.width),h.height=Math.min(h.height,p.height),c.defaultAreaInfo={width:h.width,height:h.height,top:a.top,left:a.left},yt="\n                "+(h.shadable===!0?'\n                <div class="layx-shade" id="layx-'+h.id+'-shade" style="z-index:'+(h.alwaysOnTop===!0?++r.pinZindex:++r.zIndex)+'"><\/div>\n                ':"")+'\n                <div class="layx-window" id="layx-'+h.id+'" style="min-width:'+h.minWidth+";width:"+(typeof h.width=="string"?"auto":h.width+"px")+";min-height:"+h.minHeight+";height:"+(typeof h.height=="string"?"auto":h.height+"px")+";top:"+a.top+"px;left:"+a.left+"px;z-index: "+(h.alwaysOnTop===!0?++r.pinZindex:++r.zIndex)+";background-color:"+(h.bgColor?h.bgColor:"transparent")+";border-color:"+h.borderColor+";opacity:"+h.opacity+'">\n                    <div class="layx-control-bar">\n                        <div class="layx-icons">\n                            '+(h.icon===!1?"":h.icon?h.icon.toString():'<div class="layx-icon">\n                                <svg class="layx-iconfont" aria-hidden="true">\n                                    <use xlink:href="#layx-icon-windows"><\/use>\n                                <\/svg>\n                            <\/div>')+'\n                        <\/div>\n                        <div class="layx-title" title="'+h.title+'">'+h.title+'<\/div>\n                        <div class="layx-menus">\n                        '+(h.pinable===!0?'\n                            <div class="layx-operator layx-pin-menu" '+(h.alwaysOnTop===!0?' data-topable="1" ':"")+'>\n                                <svg class="layx-iconfont" aria-hidden="true">\n                                    <use xlink:href="#layx-icon-pin"><\/use>\n                                <\/svg>\n                            <\/div>\n                            ':"")+"\n                            \n                            "+(h.minimizable===!0?'\n                            <div class="layx-operator layx-min-menu">\n                                <svg class="layx-iconfont" aria-hidden="true">\n                                    <use xlink:href="#layx-icon-min"><\/use>\n                                <\/svg>\n                            <\/div>\n                            ':"")+"\n                            \n                            "+(h.maximizable===!0?'\n                            <div class="layx-operator layx-max-menu">\n                                <svg class="layx-iconfont" aria-hidden="true">\n                                    <use xlink:href="#layx-icon-max"><\/use>\n                                <\/svg>\n                            <\/div>\n                                ':"")+"\n                            \n                            "+(h.closable===!0?'\n                                <div class="layx-operator layx-destroy-menu">\n                                <svg class="layx-iconfont" aria-hidden="true">\n                                    <use xlink:href="#layx-icon-destroy"><\/use>\n                                <\/svg>\n                            <\/div>\n                                ':"")+'\n                            \n                        <\/div>\n                    <\/div>\n                    <div class="layx-body">\n                        <div class="layx-fixed" data-enable="0"><\/div>\n                    <\/div>\n                    '+(h.resizable===!0?'\n                        <div class="layx-resizes">\n                        '+(h.resizeLimit.t===!0?'<div class="layx-resize-top"><\/div>':"")+"\n                        "+(h.resizeLimit.r===!0?'<div class="layx-resize-right"><\/div>':"")+"\n                        "+(h.resizeLimit.b===!0?'<div class="layx-resize-bottom"><\/div>':"")+"\n                        "+(h.resizeLimit.l===!0?'<div class="layx-resize-left"><\/div>':"")+"\n                        "+(h.resizeLimit.lt===!0?'<div class="layx-resize-left-top"><\/div>':"")+"\n                        "+(h.resizeLimit.rt===!0?'<div class="layx-resize-right-top"><\/div>':"")+"\n                        "+(h.resizeLimit.lb===!0?'<div class="layx-resize-left-bottom"><\/div>':"")+"\n                        "+(h.resizeLimit.rb===!0?'<div class="layx-resize-right-bottom"><\/div>':"")+"\n                    <\/div>\n                        ":"")+"\n                "+(h.statusBar===!1?"":h.statusBar===!0?'<div class="layx-status-bar"><\/div>\n                        ':'<div class="layx-status-bar">'+h.statusBar+"<\/div>\n                        ")+"<\/div>\n                ",u.InsertAfter(yt),l=u.getElementById("layx-"+h.id),n!==i&&i.frameElement&&self.frameElement.tagName=="IFRAME"){var b=self.frameElement.parentNode.parentElement,v=b.getAttribute("data-layx-id"),nt=b.id.substr(5);l.setAttribute("data-layx-id",(v?v+".":"")+nt)}else l.setAttribute("data-layx-id",h.id);if(c.windowDom=l,c.zIndex=h.alwaysOnTop===!0?r.pinZindex:r.zIndex,r.windows[h.id]=c,tt=u.querySelector(".layx-body",l),u.isFunction(h.intercept.load.before)&&h.intercept.load.before(c,l)!==!1&&(h.type==="iframe"?(k=u.createIframe("layx-"+h.id+"-content",h.url?h.url:h.content,function(){var e=k.id.substr(0,k.id.lastIndexOf("-")),s=u.querySelector("#"+e+" .layx-body"),i=u.querySelector("#"+e+" .layx-wait"),o=i.lastChild,f="",t;try{f=o.contentDocument.querySelector("title").innerText}catch(a){}t=o.cloneNode(!0);s.appendChild(t);i.parentNode.removeChild(i);try{h.useFrameTitle===!0&&r.setTitle(h.id,f?f:h.title);h.focusable===!0&&(t.contentWindow.onclick=function(){var t=this.self,i;t!=n&&t.frameElement&&t.frameElement.tagName=="IFRAME"&&(i=t.frameElement.parentNode.parentElement,r.setZindex(i,c))});u.isFunction(h.intercept.load.after)&&h.intercept.load.after(c,l,t.contentWindow)}catch(a){h.useFrameTitle===!0&&r.setTitle(h.id,h.title);console.warn(a)}}),y=document.createElement("div"),y.classList.add("layx-wait"),y.setAttribute("data-status","loading"),y.innerHTML=h.loaddingText,y.appendChild(k),tt.appendChild(y)):(w=document.createElement("div"),w.classList.add("layx-html"),w.innerHTML=h.content,w.setAttribute("id","layx-"+h.id+"-content"),tt.appendChild(w),l.onclick=function(){r.setZindex(this,c)})),it=u.querySelector(".layx-destroy-menu",l),it&&(it.onclick=function(n){r.triggerMethod("destroy",h.id,c,n)}),rt=u.querySelector(".layx-max-menu",l),rt&&(rt.onclick=function(n){r.triggerMethod("max",h.id,c,n)}),ut=u.querySelector(".layx-min-menu",l),ut&&(ut.onclick=function(n){r.triggerMethod("min",h.id,c,n)}),d=u.querySelector(".layx-pin-menu",l),d&&d&&(d.onclick=function(n){r.triggerMethod("pin",h.id,c,n)}),g=u.querySelector(".layx-title",l),g&&(h.movable&&new e(g,h.moveLimit,h.intercept.move),h.allowTitleDblclickToRestore===!0&&h.maximizable===!0&&(g.ondblclick=function(n){c.status==="normal"?r.triggerMethod("max",h.id,c,n):r.triggerMethod("restore",h.id,c,n)})),ft=u.querySelector(".layx-shade"),ft&&(ft.onclick=function(){var i=this,n=this.id,t=n.substr(0,n.length-6);r.setFlicker(t.substr(5))}),h.resizable&&(pt=u.querySelector(".layx-resizes",l),pt&&(et=u.querySelector(".layx-resize-left",l),h.resizeLimit&&h.resizeLimit.l===!0&&et&&new f(et,h.minWidth,h.minHeight,!1,!0,!1,!0),ot=u.querySelector(".layx-resize-right",l),h.resizeLimit&&h.resizeLimit.r===!0&&ot&&new f(ot,h.minWidth,h.minHeight,!1,!1,!1,!0),st=u.querySelector(".layx-resize-top",l),h.resizeLimit&&h.resizeLimit.t===!0&&st&&new f(st,h.minWidth,h.minHeight,!0,!1,!0,!1),ht=u.querySelector(".layx-resize-bottom",l),h.resizeLimit&&h.resizeLimit.b===!0&&ht&&new f(ht,h.minWidth,h.minHeight,!1,!1,!0,!1),ct=u.querySelector(".layx-resize-left-top",l),h.resizeLimit&&h.resizeLimit.lt===!0&&ct&&new f(ct,h.minWidth,h.minHeight,!0,!0,!1,!1),lt=u.querySelector(".layx-resize-right-top",l),h.resizeLimit&&h.resizeLimit.rt===!0&&lt&&new f(lt,h.minWidth,h.minHeight,!0,!1,!1,!1),at=u.querySelector(".layx-resize-left-bottom",l),h.resizeLimit&&h.resizeLimit.lb===!0&&at&&new f(at,h.minWidth,h.minHeight,!1,!0,!1,!1),vt=u.querySelector(".layx-resize-right-bottom",l),h.resizeLimit&&h.resizeLimit.rb===!0&&vt&&new f(vt,h.minWidth,h.minHeight,!1,!1,!1,!1))),n!==i&&i.frameElement&&self.frameElement.tagName=="IFRAME"){var b=self.frameElement.parentNode.parentElement,v=b.getAttribute("data-layx-id"),nt=b.id.substr(5);n.layx.Windows.hasOwnProperty((v?v+".":"")+nt)||(n.layx.Windows[(v?v+".":"")+nt]=c)}return c},destroy:function(t){var i=u.getElementById("layx-"+t),h=r.windows[t],f=u.getElementById("layx-"+t+"-shade"),e,s,o;if(i&&(e=u.getElementById("layx-"+t+"-content"),e&&u.destroyIframe(e),i.parentNode.removeChild(i),f&&f.parentNode.removeChild(f)),r.windows.hasOwnProperty(t)){delete r.windows[t];s=new RegExp("^"+t+".");for(o in n.layx.Windows)s.test(o)&&delete n.layx.Windows[o]}},max:function(n){var t=u.getElementById("layx-"+n),h=r.windows[n],f,e,i,o,s;t&&(f=u.querySelector(".layx-max-menu",t),f&&(f.innerHTML='\n                    <svg class="layx-iconfont" aria-hidden="true">\n                        <use xlink:href="#layx-icon-restore"><\/use>\n                    <\/svg>\n                    ',f.classList.remove("layx-max-menu"),f.classList.add("layx-restore-menu"),f.setAttribute("data-ref","max"),e=u.querySelector('.layx-restore-menu[data-ref="max"]',t),e&&(e.onclick=function(t){r.triggerMethod("restore",n,h,t)})),i=u.querySelector('.layx-restore-menu[data-ref="min"]',t),i&&(i.innerHTML='\n                    <svg class="layx-iconfont" aria-hidden="true">\n                        <use xlink:href="#layx-icon-min"><\/use>\n                    <\/svg>\n                    ',i.classList.remove("layx-restore-menu"),i.classList.add("layx-min-menu"),i.removeAttribute("data-ref"),i.removeAttribute("data-restore-statu"),i.onclick=function(t){r.triggerMethod("min",n,h,t)}),o=u.querySelector(".layx-resizes",t),o&&o.setAttribute("data-enable","0"),s=u.getClientArea(),t.style.width=s.width+"px",t.style.height=s.height+"px",t.style.top="0px",t.style.left="0px",r.windows[n].status="max")},restore:function(n){var t=u.getElementById("layx-"+n),s=r.windows[n],e,f,h,i,o;t&&(e=u.querySelector('.layx-restore-menu[data-ref="max"]',t),e&&(e.innerHTML='\n                        <svg class="layx-iconfont" aria-hidden="true">\n                            <use xlink:href="#layx-icon-max"><\/use>\n                        <\/svg>\n                        ',e.classList.remove("layx-restore-menu"),e.classList.add("layx-max-menu"),e.removeAttribute("data-ref"),e.onclick=function(t){r.triggerMethod("max",n,s,t)},i=s.defaultAreaInfo,t.style.width=i.width+"px",t.style.height=i.height+"px",t.style.top=i.top+"px",t.style.left=i.left+"px",r.windows[n].status="normal"),f=u.querySelector('.layx-restore-menu[data-ref="min"]',t),f&&(f.innerHTML='\n                        <svg class="layx-iconfont" aria-hidden="true">\n                            <use xlink:href="#layx-icon-min"><\/use>\n                        <\/svg>\n                        ',f.classList.remove("layx-restore-menu"),f.classList.add("layx-min-menu"),f.removeAttribute("data-ref"),f.onclick=function(t){r.triggerMethod("min",n,s,t)},o=u.querySelector(".layx-resizes",t),o&&o.removeAttribute("data-enable"),h=f.getAttribute("data-restore-statu"),h==="normal"?(i=s.defaultAreaInfo,t.style.width=i.width+"px",t.style.height=i.height+"px",t.style.top=i.top+"px",t.style.left=i.left+"px",r.windows[n].status="normal"):h==="max"&&r.triggerMethod(h,n,s)),o=u.querySelector(".layx-resizes",t),o&&o.removeAttribute("data-enable"))},min:function(n){var f=u.getElementById("layx-"+n),e=r.windows[n],t,o,i,s;f&&(t=u.querySelector(".layx-min-menu",f),t&&(t.innerHTML='\n                    <svg class="layx-iconfont" aria-hidden="true">\n                        <use xlink:href="#layx-icon-restore"><\/use>\n                    <\/svg>\n                    ',t.classList.remove("layx-min-menu"),t.classList.add("layx-restore-menu"),t.setAttribute("data-ref","min"),t.setAttribute("data-restore-statu",e.status),o=u.querySelector('.layx-restore-menu[data-ref="min"]',f),o&&(o.onclick=function(t){r.triggerMethod("restore",n,e,t)})),i=u.querySelector('.layx-restore-menu[data-ref="max"]',f),i&&(i.innerHTML='\n                    <svg class="layx-iconfont" aria-hidden="true">\n                        <use xlink:href="#layx-icon-max"><\/use>\n                    <\/svg>\n                    ',i.classList.remove("layx-restore-menu"),i.classList.add("layx-max-menu"),i.removeAttribute("data-ref"),i.onclick=function(t){r.triggerMethod("max",n,e,t)}),s=u.querySelector(".layx-resizes",f),s&&s.setAttribute("data-enable","0"),r.windows[n].status="min",r.minManager())},pin:function(n){var f=u.getElementById("layx-"+n),t=r.windows[n],i;if(f){if(i=u.querySelector(".layx-pin-menu",f),t.alwaysOnTop==!0){t.alwaysOnTop=!1;r.setZindex(f,t);i&&i.removeAttribute("data-topable");return}if(t.alwaysOnTop==!1){t.alwaysOnTop=!0;r.setZindex(f,t);i&&i.setAttribute("data-topable","1");return}}},triggerMethod:function(n,t,i,f){f=f||window.event;var e=!0;i&&i.config&&i.config.intercept[n]&&u.isFunction(i.config.intercept[n].before)&&i.config.intercept[n].before(i.windowDom,i)===!1&&(e=!1);e&&r.hasOwnProperty(n)&&r[n](t);i&&i.config&&i.config.intercept[n]&&u.isFunction(i.config.intercept[n].after)&&i.config.intercept[n].after(i.windowDom,i);f&&f.stopPropagation()},minManager:function(){var o=u.getClientArea(),i=10,f=220,s=30,h=Math.floor(o.width/(f+i)),e=0,n=r.windows,t;if(n)for(t in n)n[t].status==="min"&&(n[t].windowDom.style.width=f+"px",n[t].windowDom.style.height=s+"px",n[t].windowDom.style.top=o.height-(Math.floor(e/h)+1)*(s+10)+"px",n[t].windowDom.style.left=e%h*(f+i)+i+"px",e++)},ExistShow:function(n){var i=u.getElementById("layx-"+n),t=r.windows[n];r.setZindex(i,t);i&&t.status==="min"&&r.triggerMethod("restore",n,t)},setZindex:function(n,t){n&&t&&(t.alwaysOnTop===!0?(n.style.zIndex=++r.pinZindex,t.zIndex=r.pinZindex):(n.style.zIndex=++r.zIndex,t.zIndex=r.zIndex))},setTitle:function(n,t){var f=u.getElementById("layx-"+n),e=r.windows[n],i;f&&(i=u.querySelector(".layx-title",f),i.innerHTML=t,i.setAttribute("title",t),e.title=t)},setUrl:function(n,t){var i=u.getElementById("layx-"+n),e=r.windows[n],f;i&&e.type==="iframe"&&(f=u.querySelector("#layx-"+n+"-content",i),f.setAttribute("src",t))},setContent:function(n,t){var i=u.getElementById("layx-"+n),e=r.windows[n],f;i&&(f=u.querySelector(".layx-html",i),f.innerHTML=t)},setFlicker:function(n){var i=null,t=u.getElementById("layx-"+n),f=r.windows[n];t&&(t.classList.contains("shadowFlicker")&&t.classList.remove("shadowFlicker"),t.classList.add("shadowFlicker"),r.setZindex(t,f),i=setTimeout(function(){t.classList.remove("shadowFlicker");clearTimeout(i)},960))},setOnTop:function(n){var i=u.getElementById("layx-"+n),t=r.windows[n];t&&(t.alwaysOnTop=!1,r.triggerMethod("pin",n,t))},cancelOnTop:function(n){var i=u.getElementById("layx-"+n),t=r.windows[n];t&&(t.alwaysOnTop=!0,r.triggerMethod("pin",n,t))},setPosition:function(n,t){var e=u.getElementById("layx-"+n),f=r.windows[n],i;e&&f&&(i=u.compilePositionParams(f.defaultAreaInfo.width,width.defaultAreaInfo.height,t),e.style.left=i.left+"px",e.style.top=i.top+"px",f.defaultAreaInfo.left=i.left,f.defaultAreaInfo.top=i.top)},createButtoms:function(n,t,i){var o=u.querySelector(".layx-status-bar",t),e=document.createElement("div"),f,r;for(e.classList.add("layx-alert-buttons"),u.isArray(i)||(i=s),f=0;f<i.length;f++)r=document.createElement("button"),r.setAttribute("class","layx-status-button "+i[f].classList),r.setAttribute("layx-window-id",n),r.innerHTML=i[f].label,r.callback=i[f].callback,r.onclick=function(){u.isFunction(this.callback)&&this.callback(n,t)},e.appendChild(r);o.appendChild(e)},alert:function(n,t,i,u){var e=u&&u.id?u.id:"layx-alert-"+ ++r.pinZindex,f=layxDeepClone({},{id:e,title:t?t:"提示消息",type:"alert",shadable:!0,width:352,height:157,minHeight:157,minimizable:!1,maximizable:!1,resizable:!1,alwaysOnTop:!0,pinable:!1,borderColor:"#d26c20",content:'<div class="layx-alert-content">'+n+"<\/div>",statusBar:!0,moveLimit:{leftOut:!1,rightOut:!1,topOut:!1,bottomOut:!1}},u||{}),o=r.create(f),s=o.windowDom;r.createButtoms(f.id,s,i)}};t.layx={open:function(n){var t=r.create(n);t.config.autoDestroy!==!1&&typeof t.config.autoDestroy=="number"&&setTimeout(function(){r.triggerMethod("destroy",t.id,t)},t.config.autoDestroy)},openl:function(n){u.loadCss(function(){r.create(n)})},destroy:function(n){r.triggerMethod("destroy",n,r.windows[n])},destroyAll:function(){var t,u;t=i===n?n.layx.Windows:i.layx.Windows;for(u in t)r.triggerMethod("destroy",u,t[u])},min:function(n){r.triggerMethod("min",n,r.windows[n])},max:function(n){r.triggerMethod("max",n,r.windows[n])},restore:function(n){r.triggerMethod("restore",n,r.windows[n])},getWindow:function(n){return r.windows[n]},getIframeContext:function(t){var r=null;return n===i&&n.layx.Windows.hasOwnProperty(t)?r=n.layx.Windows[t].windowDom.querySelector("#layx-"+t.substr(t.lastIndexOf(".")+1)+"-content").contentWindow:i.layx.Windows.hasOwnProperty(t)&&(r=i.layx.Windows[t].windowDom.querySelector("#layx-"+t.substr(t.lastIndexOf(".")+1)+"-content").contentWindow),r},Windows:r.windows,setTitle:function(n,t){r.setTitle(n,t)},setUrl:function(n,t){r.setUrl(n,t)},setPosition:function(n,t){r.setPosition(n,t)},setContent:function(n,t){r.setContent(n,t)},setOnTop:function(n){r.setOnTop(n)},cancelOnTop:function(n){r.cancelOnTop(n)},alert:function(n,t,i,u){r.alert(n,t,i,u)}};n===i&&(n.layx=t.layx)}(top,window,self);!function(n){function o(){var i,n;i=document.createElement("div");i.innerHTML=t;t=null;n=i.getElementsByTagName("svg")[0];n&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",e(n,document.body))}var t='<svg><symbol id="layx-icon-restore" viewBox="0 0 1157 1024"><path d="M1016.52185234 724.44050175L833.87364805 724.44050175 833.87364805 898.52098643 833.87364805 960.05279112 833.87364805 961.2211168 772.34184336 961.2211168 772.34184336 960.05279112 124.31068789 960.05279112 124.31068789 961.2211168 62.7788832 961.2211168 62.7788832 960.05279112 62.7788832 898.52098643 62.7788832 360.31241885 62.7788832 298.78061416 124.31068789 298.78061416 298.78061416 298.78061416 298.78061416 62.7788832 303.06447442 62.7788832 360.31241885 62.7788832 1016.52185234 62.7788832 1074.15923838 62.7788832 1078.05365615 62.7788832 1078.05365615 662.90869795 1078.05365615 724.44050175 1016.52185234 724.44050175ZM124.31068789 898.52098643L772.34184336 898.52098643 772.34184336 724.44050175 772.34184336 662.90869795 772.34184336 360.31241885 124.31068789 360.31241885 124.31068789 898.52098643ZM1016.52185234 124.31068789L360.31241885 124.31068789 360.31241885 298.78061416 772.34184336 298.78061416 833.87364805 298.78061416 833.87364805 360.31241885 833.87364805 662.90869795 1016.52185234 662.90869795 1016.52185234 124.31068789Z"  ><\/path><\/symbol><symbol id="layx-icon-windows" viewBox="0 0 1024 1024"><path d="M128 512 128 288 384 231.68 384 508.16 128 512M853.333333 128 853.333333 501.333333 426.666667 507.733333 426.666667 222.293333 853.333333 128M128 554.666667 384 558.506667 384 849.066667 128 800 128 554.666667M853.333333 565.333333 853.333333 938.666667 426.666667 857.173333 426.666667 558.933333 853.333333 565.333333Z"  ><\/path><\/symbol><symbol id="layx-icon-min" viewBox="0 0 1024 1024"><path d="M65.23884 456.152041 958.760137 456.152041l0 111.695918L65.23884 567.847959 65.23884 456.152041z"  ><\/path><\/symbol><symbol id="layx-icon-max" viewBox="0 0 1024 1024"><path d="M75.74912227 948.24738475L75.74912227 75.75145131l872.50059037 0 0 872.49593344L75.74912227 948.24738475zM839.18786674 184.81446115L184.81213326 184.81446115l0 654.37573462 654.37573461 0L839.18786674 184.81446115z"  ><\/path><\/symbol><symbol id="layx-icon-destroy" viewBox="0 0 1024 1024"><path d="M933.89254819 139.71606348L884.23129279 90.08990363 511.96490363 462.39138834 140.40044113 90.82692583 90.84447403 140.34779656 462.40893653 511.91225907 90.10745181 884.2137446 139.73361166 933.875 512.03509637 561.53841892 883.59955887 933.10288141 933.15552597 883.58201068 561.59106347 512.01754819Z"  ><\/path><\/symbol><symbol id="layx-icon-pin" viewBox="0 0 1024 1024"><path d="M326.4 5.65333333l7.89333333 174.72-224.74666666 376.64 168.32 117.86666667L77.22666667 1012.26666667l8.74666666 6.08 248.42666667-304 168.32 117.86666666L779.73333333 492.37333333l166.93333334-52.37333333L326.4 5.65333333z m-144.96 536.53333334l184.74666667-312.10666667L722.13333333 479.36 492.16 759.78666667l-310.72-217.6z m582.4-100.69333334l-1.92 0.64-374.4-262.18666666-0.10666667-2.02666667-2.98666666-66.56 442.88 310.18666667-63.46666667 19.94666666z" fill="" ><\/path><\/symbol><\/svg>',i=function(){var n=document.getElementsByTagName("script");return n[n.length-1]}(),r=i.getAttribute("data-injectcss"),u=function(t){function r(n,t){var i=n.document,r=!1,u=function(){r||(r=!0,t())},f=function(){try{i.documentElement.doScroll("left")}catch(n){setTimeout(f,50);return}u()};f();i.onreadystatechange=function(){i.readyState=="complete"&&(i.onreadystatechange=null,u())}}if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var i=function(){document.removeEventListener("DOMContentLoaded",i,!1);t()};document.addEventListener("DOMContentLoaded",i,!1)}else document.attachEvent&&r(n,t)},f=function(n,t){t.parentNode.insertBefore(n,t)},e=function(n,t){t.firstChild?f(n,t.firstChild):t.appendChild(n)};if(r&&!n.__iconfont__svg__cssinject__){n.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}<\/style>")}catch(s){console&&console.log(s)}}u(o)}(window);